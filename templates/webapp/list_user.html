<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;500&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
	<script type="text/javascript">
		setTimeout(function () {
			location.reload();
		}, 30000);
	</script>
	<title>User page</title>
</head>
{% block header %}
{% endblock %}

<body>
	<h1>Solinest Status Platform</h1>
	<h4>Rafraichissement de la page toutes les 30s</h4>
	<p id="time"></p>

	<script>
		const now = new Date();
		const options = { timeZone: 'CET', timeZoneName: "short" };
		const cetTime = now.toLocaleTimeString('fr-FR', options);

		document.querySelector('#time').innerHTML = cetTime;
	</script>

	<table class="display_table">
		<thead>
			<tr>
				<th style="width: 5%;">Pastille</th>
				<th style="width: 10%;">Service</th>
				<th style="width: 20%;">Description</th>
				<th style="width: 10%;">Dernière mise à jour</th>
			</tr>
		</thead>

		<tbody>
			{% for Webapp in webapps %}
			<tr>
				<td><img style="width: 40px;"
						src="https://icones.pro/wp-content/uploads/2021/04/icone-cercle-rempli-{{Webapp.pastille }}.png"
						alt=""></td>
				<td>{{ Webapp.nom }}</td>
				<td>{{ Webapp.description }}</td>
				<td>{{ Webapp.update_time }} UTC+1</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>

</body>

</html>